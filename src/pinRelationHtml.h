const char pin_relation[] PROGMEM = R"rawliteral(
<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge" /><meta name="viewport" content="width=device-width, initial-scale=1.0" /><link rel="stylesheet" href="/style.css" /> <script src="/jquery.js"></script> <style>.btn:active{box-shadow:inset 1px 1px 2px #babecc, inset -1px -1px 2px #fff}.btn{width:52px}</style><title>Terminal Relation</title></head><body id="mainBody"><div id="inActivator"></div><div id="root"><center><div class="card"><h1 style="font-size: 27px; padding: 20px 0 0 0"> Terminal Relations..</h1><div style="width: 290px; text-align: start"><ul style="font-size: 13px; font-weight: 900; padding: 0 0 30px 0"><li> Terminals available to use as MASTERS are <span id="allMaster" style="color: #d1ce0d"></span></li><li> Terminals available to use as SLAVES are <span id="allSlaves" style="color: #d1ce0d"></span></li><li>Any declared master cannot be used as slave!</li><li>Any declared slave cannot be used as master!</li><li>Maximum slave for a master is 5</li><li>Slaves written in input box must be comma separated..</li><li> NOTE: &#x213C; is for PULL_UP, &#x2191; is for on HIGH and &#x2193; is for on LOW</li><li style="color: #d1ce0d" id="showTheTime">....</li></ul></div></div> <br /><br /><div class="card" id="demoElement"><div style="width: 340px; padding: 40px 0 40px 0"> <span> <input type="text" id="master" style="width: 150px" placeholder="Master" /> <span style="padding: 5px"></span> <button class="btn arrow" id="myRotater1"><div style="color: #61677c; margin: -5px; font-size: 25px" id="rotating1" ison="1" > &#x2191;</div></button ><span style="padding: 10px"></span> <button class="btn" ison="0" id="pullup">&#x213C;</button> </span> <br /><br /><br /> <span> <input type="text" id="slave" style="width: 228px" placeholder="Slaves" /> <span style="padding: 5px"></span> <button class="btn arrow" id="myRotater2"><div style="color: #61677c; margin: -5px; font-size: 25px" id="rotating2" ison="0" > &#x2193;</div> </button> </span> <br /><br /><br /> <span ><button class="red" id="save" style="width: 300px"> Add Relation </button></span ></div></div></center></div><div><button id="menuBtn">&#9776;</button></div> %MENU% </body> <script>$(function(){$.getJSON("/pinRelation?read",(t,o)=>{if("success"==o){let o=[],n=[];function e(t="omit"){$.getJSON("/pinCount",(t,e)=>{if("success"==e){let e="";t.allInPin.forEach(t=>{let a=!0;o.forEach(o=>{o==t&&(a=!1)}),n.forEach(o=>{o==t&&(a=!1)}),a&&(e+="P"+t+", ")}),""==e?$("#allMaster").text("No Terminal availabe, Please free some!!"):$("#allMaster").text(e),e="",t.allOutPin.forEach(t=>{let n=!0;o.forEach(o=>{o==t&&(n=!1)}),n&&(e+="P"+t+", ")}),""==e?$("#allSlaves").text("No Terminal availabe, Please free some!!"):$("#allSlaves").text(e)}})}0==t.pinRel.length&&e(),t.pinRel.forEach(t=>{o.push(t.boss);let a=$("#demoElement").clone().attr("id",t.boss);a.find("#master").val(t.boss);let l="";t.slave.forEach(t=>{n.push(t),l+="P"+t+","});let r=l.substr(0,l.length-1);console.log(r),console.log(l),a.find("#slave").val(r),a.find("#myRotator1").attr("id","btn1"+t.boss),a.find("#myRotator2").attr("id","btn2"+t.boss);let i=a.find("#rotating1").attr("id","bOn"+t.boss);1==t.bOn?i.html("&#x2191;"):i.html("&#x2193;");let s=a.find("#pullup").attr("id","bInUp"+t.boss);1==t.bInUp?s.css({"background-color":"rgba(181, 219, 251, 0.4)"}):s.css({"background-color":"rgb(235, 236, 240)"});a.find("#rotating2").attr("id","sOn"+t.boss);a.find("#save").attr("id","remove"+t.boss).css({"background-color":"#ae1100",color:"white"}).text("Release Relation").click(function(){$.ajax({url:`/pinRelation?pin=${t.boss}`}).done(t=>{"ok"==t&&window.location.reload(),setTimeout(()=>window.location.reload(),2e3)})}),e(t),$("#demoElement").after(a)})}});let t=0;$("#myRotater1").click(function(){0==$("#rotating1").attr("ison")?$("#rotating1").attr("ison","1"):$("#rotating1").attr("ison","0");let o=document.querySelector("#rotating1"),e=setInterval(function(){t==n?clearInterval(e):(t+=3,o.style=`color: #61677c; margin: -5px; font-size: 25px;transform: rotate(${t}deg)`)},5),n=t+180});let o=0;$("#myRotater2").click(function(){0==$("#rotating2").attr("ison")?$("#rotating2").attr("ison","1"):$("#rotating2").attr("ison","0");let t=document.querySelector("#rotating2"),e=setInterval(function(){o==n?clearInterval(e):(o+=3,t.style=`color: #61677c; margin: -5px; font-size: 25px;transform: rotate(${o}deg)`)},5),n=o+180});let e=$("#pullup").click(function(){0==e.attr("ison")?e.attr("ison","1").css({"background-color":"rgba(181, 219, 251, 0.4)"}):e.attr("ison","0").css({"background-color":"rgb(235, 236, 240)"})});function n(t){let o="";return"p"==t[0]||"P"==t[0]?o=t.substr(1):0==isNaN(t)&&(o=t),o}$("#save").click(()=>{let t={},o=[],e=$("#master").val();""!=e.trim()&&(t.boss=n(e));let a=$("#slave").val();if(""!=a.trim()){let e=a.split(",");console.log(e),e.forEach(t=>{let e=t.trim();o.push(n(e))}),t.slave=o}t.bOn=$("#rotating1").attr("ison"),t.bInUp=$("#pullup").attr("ison"),t.sOn=$("#rotating2").attr("ison"),console.log(JSON.stringify(t));let l=JSON.stringify(t);$.ajax({url:"/pinRelation",headers:{pinRel:l}}).done(t=>{"ok"==t&&(window.location.reload(),setTimeout(()=>window.location.reload(),2e3))})})});</script> <script src="/jquery.js?menu"></script> </html>
)rawliteral";