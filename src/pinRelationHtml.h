const char pin_relation[] PROGMEM = R"rawliteral(
<!DOCTYPE html><html lang="en"> <head> <meta charset="UTF-8"/> <meta http-equiv="X-UA-Compatible" content="IE=edge"/> <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <link rel="stylesheet" href="/style.css"/> <script src="/jquery.js"></script> <style>.btn:active{box-shadow: inset 1px 1px 2px #babecc, inset -1px -1px 2px #fff;}.btn{width: 52px;}</style> <title>Terminal Relation</title> </head> <body> <div id="inActivator"></div><div id="root"> <center> <div class="card"> <h1 style="font-size: 27px; padding: 20px 0 0 0"> Terminal Relations.. </h1> <div style="width: 290px; text-align: start"> <ul style="font-size: 12px; font-weight: 900; padding: 0 0 30px 0"> <li> Terminals available to use as MASTERS are <span id="allMaster" style="color: #d1ce0d"></span> </li><li> Terminals available to use as SLAVES are <span id="allSlaves" style="color: #d1ce0d"></span> </li><li>Any declared master cannot be used as slave!</li><li>Any declared slave cannot be used as master!</li><li>Maximum slave for a master is 5</li><li>Slaves written in input box must be comma separated..</li><li> NOTE: &#x213C; is for PULL_UP, &#x2191; is for on HIGH and &#x2193; is for on LOW </li><li style="color: #d1ce0d" id="time">....</li></ul> </div></div><br/><br/> <div class="card" id="demoElement"> <div style="width: 340px; padding: 40px 0 40px 0"> <span> <input type="text" id="master" style="width: 150px" placeholder="Master"/> <span style="padding: 5px"></span> <button class="btn arrow" id="myRotater1"> <div style="color: #61677c; margin: -5px; font-size: 25px" id="rotating1" ison="1" > &#x2191; </div></button ><span style="padding: 10px"></span> <button class="btn" ison="0" id="pullup">&#x213C;</button> </span> <br/><br/><br/> <span> <input type="text" id="slave" style="width: 228px" placeholder="Slaves"/> <span style="padding: 5px"></span> <button class="btn arrow" id="myRotater2"> <div style="color: #61677c; margin: -5px; font-size: 25px" id="rotating2" ison="0" > &#x2193; </div></button> </span> <br/><br/><br/> <span ><button class="red" id="save" style="width: 300px"> Add Relation </button></span > </div></div></center> </div><div><button id="menuBtn">&#9776;</button></div> %MENU% </body> <script>$(function(){$.getJSON("/gettime",(t,o)=>{var e=["omit","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];let a=["omit","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=t.sec,l=t.min;setInterval(()=>{60==n&&(l++,n=0),60==l&&window.location.reload();let o=e[t.wDay]+" "+a[t.mon]+" "+t.day+" "+t.yr+" "+t.hr+":"+l+":"+n+" (Local Time)";$("#time").text(o),n++},1e3)}),$.getJSON("/pinRelation?read",(t,o)=>{if("success"==o){let o=[],e=[];t.pinRel.forEach(t=>{o.push(t.boss);let a=$("#demoElement").clone().attr("id",t.boss);a.find("#master").val(t.boss);let n="";t.slave.forEach(t=>{e.push(t),n+="P"+t+","});let l=n.substr(0,n.length-1);console.log(l),console.log(n),a.find("#slave").val(l),a.find("#myRotator1").attr("id","btn1"+t.boss),a.find("#myRotator2").attr("id","btn2"+t.boss);let r=a.find("#rotating1").attr("id","bOn"+t.boss);1==t.bOn?r.html("&#x2191;"):r.html("&#x2193;");let i=a.find("#pullup").attr("id","bInUp"+t.boss);1==t.bInUp?i.css({"background-color":"rgba(181, 219, 251, 0.4)"}):i.css({"background-color":"rgb(235, 236, 240)"});a.find("#rotating2").attr("id","sOn"+t.boss);a.find("#save").attr("id","remove"+t.boss).css({"background-color":"#ae1100",color:"white"}).text("Release Relation").click(function(){$.ajax({url:`/pinRelation?pin=${t.boss}`}).done(t=>{"ok"==t&&window.location.reload(),setTimeout(()=>window.location.reload(),2e3)})}),$.getJSON("/pinCount",(t,a)=>{if("success"==a){let a="";t.allInPin.forEach(t=>{let n=!0;o.forEach(o=>{o==t&&(n=!1)}),e.forEach(o=>{o==t&&(n=!1)}),n&&(a+="P"+t+", ")}),""==a?$("#allMaster").text("No Terminal availabe, Please free some!!"):$("#allMaster").text(a),a="",t.allOutPin.forEach(t=>{let e=!0;o.forEach(o=>{o==t&&(e=!1)}),e&&(a+="P"+t+", ")}),""==a?$("#allSlaves").text("No Terminal availabe, Please free some!!"):$("#allSlaves").text(a)}}),$("#demoElement").after(a)})}});let t=0;$("#myRotater1").click(function(){0==$("#rotating1").attr("ison")?$("#rotating1").attr("ison","1"):$("#rotating1").attr("ison","0");let o=document.querySelector("#rotating1"),e=setInterval(function(){t==a?clearInterval(e):(t+=3,o.style=`color: #61677c; margin: -5px; font-size: 25px;transform: rotate(${t}deg)`)},5),a=t+180});let o=0;$("#myRotater2").click(function(){0==$("#rotating2").attr("ison")?$("#rotating2").attr("ison","1"):$("#rotating2").attr("ison","0");let t=document.querySelector("#rotating2"),e=setInterval(function(){o==a?clearInterval(e):(o+=3,t.style=`color: #61677c; margin: -5px; font-size: 25px;transform: rotate(${o}deg)`)},5),a=o+180});let e=$("#pullup").click(function(){0==e.attr("ison")?e.attr("ison","1").css({"background-color":"rgba(181, 219, 251, 0.4)"}):e.attr("ison","0").css({"background-color":"rgb(235, 236, 240)"})});function a(t){let o="";return"p"==t[0]||"P"==t[0]?o=t.substr(1):0==isNaN(t)&&(o=t),o}$("#save").click(()=>{let t={},o=[],e=$("#master").val();""!=e.trim()&&(t.boss=a(e));let n=$("#slave").val();if(""!=n.trim()){let e=n.split(",");console.log(e),e.forEach(t=>{let e=t.trim();o.push(a(e))}),t.slave=o}t.bOn=$("#rotating1").attr("ison"),t.bInUp=$("#pullup").attr("ison"),t.sOn=$("#rotating2").attr("ison"),console.log(JSON.stringify(t));let l=JSON.stringify(t);$.ajax({url:"/pinRelation",headers:{pinRel:l}}).done(t=>{"ok"==t&&(window.location.reload(),setTimeout(()=>window.location.reload(),2e3))})})});</script> <script src="/jquery.js?menu"></script></html>
)rawliteral";